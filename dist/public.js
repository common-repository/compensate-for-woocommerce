!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([,function(e,t,n){"use strict";n.r(t);n(2);jQuery(document).ready((function(e){var t={ipLocation:null,init:function(){this.injectPlausible(),e('#compensate-widget input[type="checkbox"]').change(this.handleWidgetCheckbox),e("#compensate-widget .compensate-widget__readmore").on("click",this.handleReadMoreClick),e(document).on("click",this.closeWidgetExtraOnClickOutSide),e(document.body).on("updated_cart_totals",this.update_compensate_surcharge_value),e("form.checkout").on("change",".address-field select",this.update_compensate_surcharge_value),e.ajax({url:compensate_obj.ipinfo_url,type:"get",success:function(e){t.ipLocation=e.country},complete:function(){t.update_compensate_surcharge_value()}})},injectPlausible:function(){jQuery('<script async defer data-domain="compensate.com" src="https://plausible.io/js/plausible.js"><\/script>').appendTo("head")},closeWidgetExtraOnClickOutSide:function(t){e(t.target).closest("#compensate-widget .compensate-widget__readmore").length||e(t.target).closest("#compensate-widget .extra").length||e("#compensate-widget .extra").hide()},handleReadMoreClick:function(){var t=e("#compensate-widget .extra");"none"==t.css("display")?t.css("display","flex"):t.css("display","none")},handleWidgetCheckbox:function(){e.ajax({url:compensate_obj.ajax_url,type:"post",data:{action:"toggle_compensate_surcharge",is_compensate_added:this.checked},success:function(){setTimeout((function(){e("body").trigger("update_checkout"),jQuery("[name='update_cart']").removeAttr("disabled").trigger("click"),jQuery("[name='update_cart']").trigger("click")}),200)}})},update_compensate_surcharge_value:function(n){var o,a=n&&e(n.currentTarget);(o=a)&&(function(e){if(e)return e.is(".processing")||e.parents(".processing").length}(o)||o.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}));var c=e("#billing_country").val();e("#ship-to-different-address").find("input").is(":checked")&&(c=e("#shipping_country").val()),e(".compensate-widget__amount").html('<div class="compensate-widget__spinner"></div>'),e.ajax({url:compensate_obj.ajax_url,type:"post",data:{action:"update_compensate_surcharge_value",shipping_country:c,ipLocation:t.ipLocation},success:function(t){e("body").trigger("update_checkout"),e(".cart_totals").replaceWith(t.updated_cart_total),e(".compensate-widget__amount").html(t.compensate_surcharge_value),t.compensate_amount||(console.log("Got error in price response"),e("#compensate-widget").hide())},complete:function(){!function(e){e&&e.removeClass("processing").unblock()}(a)}})}};e("#compensate-widget").length&&t.init()}))},function(e,t,n){}]);
//# sourceMappingURL=public.js.map